---

import Layout from "../layouts/Layout.astro";
import Cards from "../components/Cards.astro";
import Showcase from "../components/Showcase.astro";

// const response = await fetch('https://jsonplaceholder.typicode.com/post?_limit=5');
// const posts = await response.json();

const posts = await Astro.glob('../posts/*.md');

---

<Layout title="Astro Blogs" >


  <Showcase heading="Astro Blogs" text="A simple blog built with Astro"/>



  <section class="features">
    <div class="container">
        {posts.map(post => (
            <Cards>
              <h3>{post.frontmatter.title}</h3>
              Written by <strong>{post.frontmatter.author} </strong> on {new Date(post.frontmatter.date).toLocaleDateString()}
    
              <p>{post.frontmatter.excerpt}</p> 
              <a class="btn" href={`/${post.frontmatter.slug}`}>Read More</a> 
         </Cards>
            
           
          ) )}
          
      
    </div>
  </section>


<style>
.features .container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-gap: 20px;
  padding: 0 20px;
  margin: 30px auto;
}

@media (max-width: 500px) {
  .features .container {
    grid-template-columns: 1fr;
  }

}


</style>


</Layout>
